# 英単語帳アプリ VocabApp

**アプリURL**
https://new-vocab-app.vercel.app

**デモ用アカウント**
メールアドレス: demo@demo.com ,
パスワード: password

※ぜひREADME 右上のリストアイコンから目次機能をご利用ください。

# 1. 概要
VocabAppは、英単語を手軽に登録・管理・復習できるシンプルかつ高機能な英単語帳アプリです。データベースのような管理のしやすさと、ワンタップで簡単に例文やメモまで復習できる手軽さを両立させ、日常的に使い続けられるアプリを目指しました。

# 2. 背景・動機

私はこれまで長期間にわたって英語学習に取り組み、2023年には留学も経験しました。もちろんその過程で、単語学習に関する様々なアプリやツールを試してきました。

しかし、それらはどれも使いづらさや不満があり、また、留学中に出会った多くの英語学習者たちも自分と同じような不満や悩みを感じていました。

そして私は、その共通した悩みの原因は、多くの単語アプリが**試験対策を目的に作られている**ことにあると考えました。

試験のための単語学習と、日常生活（英会話や動画視聴など）のための単語学習は、**大きく異なる**と私は考えています。

試験対策としての単語学習は、覚えるべき単語があらかじめ決まっており、自分で整理する必要がありません。さらに、試験問題を解くうえでは、単語の意味のみが重視され、発音や文脈、ニュアンスなどが軽視されがちです。また、試験を受けるまでの間だけ、短期間で大量の単語を覚える必要があります。

しかし、日常生活のための単語学習はそうではありません。

覚えるべき単語は無数にある上に人それぞれ異なるため、それらを自分で記録し、整理していく必要があります。さらに、単語の意味だけでなく、発音や文脈、翻訳の練習、表現のニュアンスを理解することが非常に重要です。また、このような単語学習には終わりがないため、1日数個でもよいので自分のペースで学習を継続することが求められます。

| **試験のための単語学習** | **日常生活ための単語学習** |
| --- | --- |
| 覚えるべき単語があらかじめ決まっている | 覚えるべき単語は無数にある&人それぞれ違うため、自分で整理する必要がある |
| 英単語の意味だけ覚えればよい | 英単語の意味だけでなく、発音、文脈、翻訳の練習、表現のニュアンスなどが非常に重要 |
| 試験を受けるまでの間だけ、短期間で大量に覚える必要がある | 明確な終わりがなく、長い時間をかけて自分のペースで学習を継続する必要がある |

これらの違いを踏まえ、私は従来のような試験のため単語学習だけでなく、すべての英語学習者のために、

- **単語を簡単に登録・整理・復習でき**
- **文脈や発音、翻訳練習の学習もサポートし**
- **使いやすいUIで日常的に使い続けられる**

そんなアプリを作りたいと考えました。

# 3. 機能とこだわったポイント

## 1.  豊富なアニメーション

短期間ではなく、継続的な単語学習を支えるアプリとして、**使っていて気持ちいい、つい開きたくなるアプリ**を目指し、カードフリップ、ドラッグアンドドロップ、ドロップメニュー、スライド、モーダル、通知機能、ローディングなど、多くのUIにアニメーションをつけました。

特にメインの単語を表示させるとき、透明度を連続的に変化させて単語が「ふわっ」と出現するアニメーションは、予期しないタイミングで余計なアニメーションがかからないよう、どのタイミングでアニメーションを発火させるのか、その制御に苦労しました。

https://github.com/user-attachments/assets/7bf7048b-d5f5-40d1-9c80-0b2042b5615e

<br/>

## 2. 「優先度」とカスタムスライダー

多くの単語帳アプリでは、単語を「覚えた」と「覚えていない」で単語をわけています。

しかし、「意味はわかったけど次覚えているか不安なので一応復習しておきたい」や「思い出せなかったけど次は多分覚えてそう」など、一口に「覚えた / 覚えてない」といっても、その状態はさまざまです。

そこで、このアプリでは各単語に0から10までの「**優先度**」を指定できるようにしています。

優先度の使い方はさまざまで、

- そのときの直感で選ぶ
- すべての単語を優先度10で登録しておき、復習するたびにその値を1ずつ減らしていく
- 「覚えた」は0、「覚えてない」は10

など、ユーザーが好きに決めることができます。

また、ユーザーがより直感的に値を視認できるように、優先度の入力には**スライダー**（rangeタイプのinput要素）を採用し、スタイルをカスタマイズしました。

値に応じてスライダーの色が変わるため､瞬時に値を認識することができます。

スライダーの値ぴったりに目盛りをつけたり、目盛りをホバーすると色がかわるなどのスタイルにも苦労しましたが、こだわったポイントです。



https://github.com/user-attachments/assets/bed7a4f7-0ff2-4328-9ca9-6a8a37c50e74

<br/>

## 3. カードビューとテーブルビューを作成

ユーザーの好みに応じた単語学習ができるように、2つの異なるビューを作りました。
ビューの情報はローカルストレージに保存されているので、デバイスごとに設定の保存が可能です。

**カードビュー**

カードビューは従来の単語帳でもよくある表示方法で、表面に英単語、裏面に意味、というシンプルな構成です。

カードをめくるとフリップアニメーションでめくられ、裏面には優先度に応じて色がついています。カード右上のアイコンから単語を編集することもできます。

![cards_view](https://github.com/user-attachments/assets/4d01defb-0839-470b-9910-48a865a71bdb)

**テーブルビュー**

一方、テーブルビューは「表」で単語の詳細を一覧できる表示方法です。

マウスをホバーすると行が少し拡大され、クリックすると単語の編集画面モーダルが出現します。例文やメモなどを確認したり、単語を編集したいときに便利です。

![table_view](https://github.com/user-attachments/assets/0a0771f5-934c-4b90-a067-634aac800cb7)


<br/>

## 4. 復習画面

ホーム画面に表示させていた単語を、意味だけでなく、例文やメモも含めて手軽に復習できる画面です。

デフォルトでは「単語」「意味」「例文」「例文訳」「メモ」がカード状になって順々にめくられます。
カードをめくっている間もカードを編集したり、スピーカーボタンで音声を聞くことができたり、下部のスライダーで単語の優先度を変えることができます。

また復習設定画面から、ドラッグアンドドロップでカードの表示順と、各項目の表示/非表示を設定することができます。
これにより、例えばカードの表示順を「意味」→「単語」や「例文訳」→「例文」などにすれば日本語から英語に翻訳する練習も可能です。

また、復習設定画面では未入力カードの表示/非表示、音声読み上げ読み上げのアクセントなども指定できます。


https://github.com/user-attachments/assets/62957738-62a2-42ac-9f57-5ee6d16cad26

<br/>

## 5. 検索・フィルター・並び替え機能

**検索機能**

検索機能には、スペルがわからない単語も見つけやすくするため、「順序を保った部分一致」という方法を採用しました。

例えば「abc」と入力すると a → b → c がこの順番で含まれている単語がヒットします

動画のように”persistent”という単語を検索したいが、ちゃんとスペルは覚えていないとき、”pst”などと打っても、persistentがヒットします。


https://github.com/user-attachments/assets/7f5b0164-f037-47d2-8ac2-e2b153ba2483

**フィルター機能**

また、フィルターや並べ替え機能も充実させました。

基本設定としては「表示件数」と「並び替え」を用意し、並び替えは

- 作成日
- 優先度
- アルファベット順
- 復習回数
- 復習日
- 更新日

についてそれぞれ「降順」と「昇順」で並び替えることが可能です。

またそれよりも細かく、優先度、復習回数、各種日付の範囲を指定したいときは「詳細設定」のトグルを開くようにすることで、多機能ながらスッキリしたデザインを心がけました。


https://github.com/user-attachments/assets/e4ad8adc-6b9a-44d5-8f2a-cf68701d6049

<br/>

## 6. TSV / CSV インポート

最近ではChatGPTを活用すれば、「単語」「意味」「例文」「例文訳」「メモ」「優先度」を簡単に表にしてまとめてくれます。また、もちろんExcelやSpread Sheetなどで単語をまとている方もいるでしょう。

そこで、それらをコピー&ペーストで簡単に一括登録できるように、TSV / CSV 形式のテキストインポートの機能もつけました。

また、ユーザーに合わせて「上から追加する」か「下から追加する」かを選べるようにしました。これにより、ホームに戻ったときに、単語の順番が逆になるのを防ぎます。



https://github.com/user-attachments/assets/b1e6a3ec-0a14-4f58-942c-87c97a617ed1


<br/>

## 7. 音声読み上げ機能

日常生活のための単語学習において、発音の勉強はとても重要です。そこで、単語を編集する画面と復習画面には、音声読み上げ機能もつけました。

また、発音もユーザーが勉強したい国の英語に合わせて「アメリカ英語」「イギリス英語」「オーストラリア英語」から選べます。

動画の「Schedule」や「Water」などは国によって発音が異なる単語の代表的な例です。

**※音声が流れます**



https://github.com/user-attachments/assets/bdfe78bd-893a-4591-a5a7-d4f6fdc9034b



復習画面では、ドロップダウンではなく、設定から国を選択できます。

**※音声が流れます**


https://github.com/user-attachments/assets/2b351eb6-c293-412a-90d6-707af8ce966e

<br/>

## 8. 完全スマホ対応

デスクトップでの整理のしやすさと、スマホで復習できる手軽さを実現するために、スマホにも完全対応しています。また、レスポンシブ対応はもちろん、スマホ用の独自のレイアウトも用意しました。

具体的にはデスクトップでは検索入力欄が横に伸びる仕様でしたが、スマホではレイアウトが崩れないよう、下からポップアップで出現します。

また、おそらくスマホでメインの機能になる復習画面のレイアウトにもこだわりました。

スマホの縦画面では、文字が横いっぱいに表示できるように、左右のナビゲーションバーをなくし、画面左右をタップですることでページをめくれるようにしました。また音声ボタンも押しやすさを考慮し、文字の下に移動しています。

一方、横画面では、上部のボタンを無くし、文字が縦いっぱいに表示できるようにしました。

それ以外にも、マージンやパディングなどの細かいレイアウトをいくつも調整し、スマホでも違和感なく使ってもらえるように工夫しました。

**縦画面**


https://github.com/user-attachments/assets/2af2df47-9f87-44a2-aa9c-6a6fd08e2075


**横画面**

https://github.com/user-attachments/assets/b6721ad5-ed0c-40a4-b0e9-8efd2473b55e

<br/>

## 9. [新機能]マークダウン記法

ユーザーが例文やメモなどで太字や下線を使えるように、マークダウン記法を使えるようにしました。

**で囲むと太字になり、__で囲むと下線が引けます。シンプルさと必要性を考えて、この2つの記法のみを導入しました｡

太字の太さや下線のオフセット（文字との距離）を細かく調節できるように、あえてライブラリは使わず自分で文字列を解析する関数を作り実装しました。

https://github.com/user-attachments/assets/1ff3533e-9a43-45a3-b29f-dee49d821d99


<br/>

## 10 [新機能]ChatGPTとの連携

単語を追加する時、意味や例文を簡単に調べられるように、ChatGPTと連携できるようにしました。

ただChatGPTに移動するだけでなく、自分が登録しておいたプロンプトと入力された単語からプロンプトを生成し、それをコピーして移動するので、すぐにChatGPTに質問できます。

さらに単語だけでなく、入力された意味や例文などからも「〇〇を英語で言うと？」「〇〇を日本語訳すると？」といったプロンプトを生成することが可能です。

https://github.com/user-attachments/assets/d515dd7e-f397-4005-a738-44521d8a927f

<br/>

# 4. 技術スタック
**言語・フレームワーク**
  - Next.js14 (App Router)
  - TypeScript

**データベース・認証**
  - Supabase

**スタイリング**
  - TailwindCSS
  - Heroicons
  - React Icons

**状態管理**
  - Zustand

**アニメーション**
  - Framer Motion
  - Swiper
  - react-card-flip

**ユーティリティ**
  - lodash （ユーティリティ）
  - d3-dsv （CSV,TSV解析）
  - react-device-detect（デバイス検出）


